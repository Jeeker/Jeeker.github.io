<!doctype html>
<!--[if lt IE 7 ]><html class="ie ie9below ie6"><![endif]-->
<!--[if IE 7 ]><html class="ie ie9below ie7"><![endif]-->
<!--[if IE 8 ]><html class="ie ie9below ie8"><![endif]-->
<!--[if IE 9 ]><html class="ie ie9"><![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html> <!--<![endif]-->
<head>
    <title>Mac - Jeeker</title>
    <meta charset="UTF-8">
    <link rel="apple-touch-icon" href="http://jeeker.net/assets/images/apple-touch-icon.png"/>
    <link rel="shortcut icon" type="image/x-icon" href="http://jeeker.net/assets/images/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="http://jeeker.net/assets/style.css?99541" />
    <link rel="alternate" type="application/atom+xml" href="http://jeeker.net/atom.xml" />
    <!-- <link rel='canonical' href="" /> -->
    <meta name="robots" content="index,follow" />
    <!-- <meta name="keywords" content="" /> -->
</head>
<body>

<div id="wrapper">
    <div id="gradient"></div><!-- #gradient -->
    <div id="header">
        <div id="menu">
            <ul>
                <li><a href="http://jeeker.net/"><span>Home</span></a></li>
                <li><a href="http://jeeker.net/projects/"><span>Projects</span></a></li>
                <li><a href="http://jeeker.net/tags/"><span>Tags</span></a></li>
                <li><a href="http://jeeker.net/archives/"><span>Archives</span></a></li>
                <li><a href="http://jeeker.net/atom.xml"><span>Feed</span></a></li>
                <li><a href="http://jeeker.net/about/"><span>About</span></a></li>
            </ul>
        </div>
    </div><!-- ＃header -->

<div id="main">
    <div id="tools-box">
        <ul>
            <li id="tool-search">
                <form action="http://google.com/search" method="get">
                    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
                    <input type="hidden" name="q" value="site:jeeker.net" />
                </form>
            </li>
        </ul>
    </div><!-- #tools-box -->

<div id="container">
    <div id="content" role="main">



<div id="post-89069" class="post-list post post-post post-publish">
    <div class="entry-head">
        <h1><a href="http://jeeker.net/article/alfred-workflow-app-dig/" title="Alfred Workflow: App Dig" rel="bookmark">Alfred Workflow: App Dig</a></h1>
        <p class="entry-date" title="2013-04-15 09:24:29">
            <span class="day">15</span>
            <span class="month">Apr</span>
        </p>
    </div><!-- .entry-header -->
    <div class="entry-content">
<!-- content start -->
<p>　　<a href="http://appshopper.com/">AppShopper</a>是一个很实用的iOS/Mac App价格信息搜集网站，App Dig基于它，可以很方便的在Alfed里获取如限时免费等App价格变更信息，同时也支持AppShopper的Wish List。</p>

<p><i><img src="http://static.afvisual.com/uploads/2013-04-15-alfred-workflow-app-dig/screenshot.png" alt="App Dig Screenshot" /></i></p>

<p><span class="btn-group btn-center"><a href="https://github.com/JinnLynn/alfred-workflows/raw/master/bin/app-dig.alfredworkflow" class="btn btn-large icon-download-alt">Download</a><a href="https://github.com/JinnLynn/alfred-workflows/tree/master/src/app-dig" class="btn btn-large icon-github">Source</a></span></p>

<ul>
<li>支持App列表中显示应用图标<sup class="footnote-ref" id="fnref-1"><a href="#fn-1">1</a></sup></li>
<li>设置AppShopper用户名并公开<a href="http://appshopper.com/wishlist">Wish List</a>可显示愿望列表<sup class="footnote-ref" id="fnref-2"><a href="#fn-2">2</a></sup></li>
</ul>

<div class="footnotes">
<hr />
<ol>
<li id="fn-1">
<p>显示应用图标时，获得App列表的时间可能增加，可在<code>app setting</code>中选择禁用&nbsp;<a href="#fnref-1" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>

<li id="fn-2">
<p>在AppShopper的Wish List页面选中'Share My Wishlist'即可公开你的愿望列表&nbsp;<a href="#fnref-2" class="footnoteBackLink" title="Jump back to footnote 2 in the text.">&#8617;</a></p>
</li>
</ol>
</div>

<p><a href="http://jeeker.net/article/alfred-workflow-app-dig/#more-89069" class="more-link">Read more...</a></p>
<!-- content end -->
    </div><!-- .entry-content -->
    <div class="entry-meta">
        <ul>
            <li class="entry-author">Posted by JinnLynn</li>
            <li class="entry-categories"> in 
        <a href="http://jeeker.net/category/developer/" title="View all posts in Developer" rel="category tag">Developer</a>
</li>
            <li class="entry-human-time-diff"> on Apr 15, 2013</li>
            <li class="entry-comments"> with <a href="http://jeeker.net/article/alfred-workflow-app-dig/#comments" title="Comment on Alfred Workflow: App Dig">Comments</a></li> 
        </ul>
    </div><!-- .entry-meta -->
</div><!-- #post-89069 -->
<div id="post-48411" class="post-list post post-post post-publish">
    <div class="entry-head">
        <h1><a href="http://jeeker.net/article/how-to-upgrade-git-on-mac-os/" title="HOW TO: 升级Mac OS X上的GIT" rel="bookmark">HOW TO: 升级Mac OS X上的GIT</a></h1>
        <p class="entry-date" title="2012-06-06 10:06:51">
            <span class="day">06</span>
            <span class="month">Jun</span>
        </p>
    </div><!-- .entry-header -->
    <div class="entry-content">
<!-- content start -->
<p>　　在MacOSX下使用<a href="http://mxcl.github.com/homebrew/">Homebrew</a>或其它方式安装最新版本的GIT后，往往并不能使用，系统默认调用的依旧还是比较旧的版本，原因是已经通过XCode等方式安装过git，且它们的路径优先级较高。</p>

<p>　　下面假设你已经通过<a href="http://mxcl.github.com/homebrew/">Homebrew</a>的<code>brew install git</code>成功安装了GIT，但系统默认使用的还是旧版本。</p>

<h4 id="1-homebrew">1.  检查系统默认调用的是否是通过Homebrew安装的最新版本</h4>

<p>　　Homebrew安装的GIT会被软链接到<code>/usr/local/bin</code>目录下，所以如果你使用<code>which git</code>看到的结果不是<code>/usr/local/bin/git</code>，那么你就需要通过后面的方法修改以便能够默认使用你所安装版本的GIT。</p>

<h4 id="2">2. 移除系统自带的版本</h4>

<p>　　如果<code>which git</code>返回的结果是<code>/usr/bin/git</code>，说明你可能通过XCode安装了其自带的GIT，其版本一般都比较低，需要移除。</p>

<pre><code>cd /usr/bin
sudo mkdir backup-git-apple
sudo mv git* backup-git-apple
</code></pre>

<h4 id="3">3. 移除可能存在的其它版本</h4>

<p>　　如果<code>which git</code>返回的结果是<code>/usr/local/git/bin/git</code>，则表示可能是你曾经使用<a href="http://code.google.com/p/git-osx-installer/">git-osx-installer</a>或其它方式安装过GIT，检查系统环境变量PATH可能还包含形如<code>/usr/local/git/bin</code>的路径。</p>

<pre><code>sudo rm -rf /usr/local/git
sudo rm /etc/paths.d/git
sudo rm /etc/manpaths.d/git
</code></pre>

<p>　　最后，重启终端，再次检查<code>which git</code>及<code>git version</code>。</p>

<p>　　BTW: 2、3的情况可能同时存在。</p>

<!-- content end -->
    </div><!-- .entry-content -->
    <div class="entry-meta">
        <ul>
            <li class="entry-author">Posted by JinnLynn</li>
            <li class="entry-categories"> in 
        <a href="http://jeeker.net/category/developer/" title="View all posts in Developer" rel="category tag">Developer</a>
</li>
            <li class="entry-human-time-diff"> on Jun 06, 2012</li>
            <li class="entry-comments"> with <a href="http://jeeker.net/article/how-to-upgrade-git-on-mac-os/#comments" title="Comment on HOW TO: 升级Mac OS X上的GIT">Comments</a></li> 
        </ul>
    </div><!-- .entry-meta -->
</div><!-- #post-48411 -->
<div id="post-11545" class="post-list post post-post post-publish">
    <div class="entry-head">
        <h1><a href="http://jeeker.net/article/fetch-lyric-for-itunes/" title="让iTunes的歌曲自动获取歌词" rel="bookmark">让iTunes的歌曲自动获取歌词</a></h1>
        <p class="entry-date" title="2012-05-04 14:05:45">
            <span class="day">04</span>
            <span class="month">May</span>
        </p>
    </div><!-- .entry-header -->
    <div class="entry-content">
<!-- content start -->
<p><i><img src="http://static.afvisual.com/uploads/2012-05-04-fetch-lyric-for-itunes/screenshot.jpg" alt="Fetch Lyric for iTunes" /></i></p>

<p>　　在<a href="http://blog.4321.la/articles/2012/01/27/use-applescript-to-set-itunes-lyrics/">4321.la</a>看到使用AppleScript自动获取iTunes曲目歌词的脚本，相当不错，自己做了些修改，添加了当歌词已存在时忽略获取，可以通过Growl通知获取的结果等功能。代码如下：</p>

<pre><code>-- FetchLyric
-- DESCRIPTION: 让iTunes内当前被选中的曲目自动下载并保存歌词，若歌词已存在将被忽略，支持Growl通知
-- AUTHOR: JinnLynn http:://jeeker.net
-- LAST UPDATED: 2012-05-04
-- INTRO PAGE: http://jeeker.net/fetch-lyric-for-itunes/
-- REF: Martian http://blog.4321.la/articles/2012/01/27/use-applescript-to-set-itunes-lyrics/
property scriptName : "FetchLyric"
property baseURL : "http://lyrics.sinaapp.com/"
property isGrowlRunning : false
property statusDesc : {"歌词已存在，无需再获取。", "歌词获取成功。", "歌词获取失败。", "未选择歌曲。"}
property STATUS_LYRIC_EXIST : 1
property STATUS_LYRIC_SUCCESS : 2
property STATUS_LYRIC_FAIL : 3
property STATUS_LYRIC_UNSELECTED : 4

tell application "System Events"
    set isGrowlRunning to (count of (every process whose bundle identifier is "com.Growl.GrowlHelperApp")) &gt; 0
end tell

script growl
    on growlNotify(artist, title, status)
        if isGrowlRunning = false then return
        tell application id "com.Growl.GrowlHelperApp"
            if title = "" then set title to "unknown"
            set the_title to title
            if artist is not equal to "" then set the_title to artist &amp; " - " &amp; the_title
            set the_desc to item status of statusDesc
            set the allNotificationsList to {scriptName}
            set the enabledNotificationsList to {scriptName}
            register as application ¬
                scriptName all notifications allNotificationsList ¬
                default notifications enabledNotificationsList ¬
                icon of application "iTunes"
            notify with name ¬
                scriptName title ¬
                the_title description ¬
                the_desc application name scriptName
            -- 尝试使用歌曲封面作为Growl图标出错
        end tell
    end growlNotify
end script

tell application "iTunes"
    if selection is {} then
        tell growl to growlNotify("", "", STATUS_LYRIC_UNSELECTED)
        return
    end if
    set k to count (item of selection)
    set i to 1
    repeat
        set theTrack to (item i of selection)
        set this_artist to (get artist of theTrack)
        set this_title to (get name of theTrack)
        set this_lyric to (get lyrics of theTrack)
        -- set this_artwork to data of artwork 1 of theTrack

        set fetch_status to STATUS_LYRIC_FAIL

        if length of this_lyric &lt; 1 then
            -- 只有当歌曲中未存在歌词时才尝试获取歌词
            set requestData to "title=" &amp; this_title &amp; "&amp;artist=" &amp; this_artist
            set songLyrics to do shell script "curl -d '" &amp; requestData &amp; "' " &amp; baseURL
            if length of songLyrics &gt; 1 then
                -- 歌词成功获取
                set lyrics of theTrack to songLyrics
                set fetch_status to STATUS_LYRIC_SUCCESS
            end if
        else
            set fetch_status to STATUS_LYRIC_EXIST
        end if

        tell growl to growlNotify(this_artist, this_title, fetch_status)

        set i to i + 1
        if i &gt; k then exit repeat
    end repeat
    -- 如果Growl未运行则显示对话框
    if isGrowlRunning = false then
        display dialog return &amp; "歌词获取结束！" buttons {"确定"} default button 1 with icon 1 giving up after 5 with title scriptName
    end if
end tell
</code></pre>

<p>　　<strong>USAGE:</strong> 在AppleScript Editor中新建包含上述脚本的文件，保存在 <strong>~/Library/iTunes/Scripts</strong> 目录下，这时在iTunes菜单栏中就会出现AppleScript的下拉菜单，选中需要的歌曲执行其中的命令即可。或者也可以使用Automator将上述脚本生成系统服务，具体本文不做详述，自行Google。</p>

<p>　　实际上实现功能需要服务端的支持，上述脚本中使用了Martian搭建在SAE上的服务端，如果你想搭建自己的服务端可以在Martian的<a href="http://blog.4321.la/articles/2012/01/27/use-applescript-to-set-itunes-lyrics/">文章</a>中找到代码，或下载下面的文件，里面也包含了一个在服务端运行的PHP文件。</p>

<p><span class="btn-group btn-center"><a href="https://github.com/JinnLynn/MacOSX-Kits/tree/master/FetchLyric" class="btn btn-large icon-github">Project on GitHub</a><a href="https://github.com/downloads/JinnLynn/MacOSX-Kits/fetchlyric20120508.zip" class="btn btn-large icon-download-alt">Download</a></span></p>

<p>　　<strong>BTW:</strong> 尝试过使用歌曲封面做为Growl的图标没有成功，总提示无法生成数据，不知道什么原因。</p>

<!-- content end -->
    </div><!-- .entry-content -->
    <div class="entry-meta">
        <ul>
            <li class="entry-author">Posted by JinnLynn</li>
            <li class="entry-categories"> in 
        <a href="http://jeeker.net/category/developer/" title="View all posts in Developer" rel="category tag">Developer</a>
</li>
            <li class="entry-human-time-diff"> on May 04, 2012</li>
            <li class="entry-comments"> with <a href="http://jeeker.net/article/fetch-lyric-for-itunes/#comments" title="Comment on 让iTunes的歌曲自动获取歌词">Comments</a></li> 
        </ul>
    </div><!-- .entry-meta -->
</div><!-- #post-11545 -->
<div id="post-18959" class="post-list post post-post post-publish">
    <div class="entry-head">
        <h1><a href="http://jeeker.net/article/disable-mac-osx-lion-resume/" title="禁用Mac OS X Lion的Resume功能" rel="bookmark">禁用Mac OS X Lion的Resume功能</a></h1>
        <p class="entry-date" title="2011-09-08 02:09:19">
            <span class="day">08</span>
            <span class="month">Sep</span>
        </p>
    </div><!-- .entry-header -->
    <div class="entry-content">
<!-- content start -->
<p>　　Mac OS X Lion新增加的Resume功能在给使用者带来便利的同时也引发了隐私上的问题，没人希望尴尬的内容因此被呈现在他人眼前，可惜对于Resume，Lion并没有提供比较完善的配置功能，很多时候需要手动进行设置。</p>

<h5 id="1-resume">1. 关闭所有应用的Resume功能</h5>

<p>　　System Preferences - General - Restore windows when quitting and re-opening apps 取消选中该选项。</p>

<p><i><img src="http://static.afvisual.com/uploads/2011-09-08-disable-mac-osx-lion-resume/screenshot.jpg" alt="Resume" /></i></p>

<h5 id="2-resume">2. 临时禁用某个应用的Resume功能</h5>

<p>　　使用快捷键<strong>⌥⌘Q</strong>退出某个应用，下次再次打开时就不会恢复窗口，除非该应用关闭时正在编辑的文件尚未保存。</p>

<p>　　如果某个应用已经被退出，则可以在Finder前往~/Library/Saved Application State/文件夹，找到不想再次打开时恢复窗口的应用目录，如com.apple.Safari.savedState，将其删除即可（注：比较特别的是Preview在这个目录下只是一个链接，需要进入其目录后删除其下的所有文件）。</p>

<h5 id="3-resume">3. 永久关闭特定应用的Resume功能</h5>

<p>　　以Safari为例，打开终端，输入以下命令：</p>

<pre><code>defaults write com.apple.Safari NSQuitAlwaysKeepsWindows -int 0
</code></pre>

<p>　　要开启Resume功能，删除该键值即可：</p>

<pre><code>defaults delete com.apple.Safari NSQuitAlwaysKeepsWindows
</code></pre>

<p>　　也可以使用Pref Setter、PlistEdit Pro等plist工具对应用的配置文件添加或删除NSQuitAlwaysKeepsWindows键值。</p>

<p><strong>BTW:</strong> 不是使用Mac OS X Lion的API而是自己控制窗口恢复的应用使用上述方法无效，如Chrome 15.0.865.0 dev</p>

<!-- content end -->
    </div><!-- .entry-content -->
    <div class="entry-meta">
        <ul>
            <li class="entry-author">Posted by JinnLynn</li>
            <li class="entry-categories"> in 
        <a href="http://jeeker.net/category/developer/" title="View all posts in Developer" rel="category tag">Developer</a>
</li>
            <li class="entry-human-time-diff"> on Sep 08, 2011</li>
            <li class="entry-comments"> with <a href="http://jeeker.net/article/disable-mac-osx-lion-resume/#comments" title="Comment on 禁用Mac OS X Lion的Resume功能">Comments</a></li> 
        </ul>
    </div><!-- .entry-meta -->
</div><!-- #post-18959 -->


    <div id="pagenavi">
        <span class="pages">Page 1 of 1</span>
    </div><!-- #pagenavi -->
   
    </div><!-- #content -->
</div><!-- #container -->

<div id="sidebar">
</div><!-- #sidebar -->

</div><!-- #main -->

<div id="footer">
    <div id="footer-left">
        2012 Powered By <a href="http://jeeker.net/projects/gude/" title="a simple python static website generator">Gude</a>. Code licensed under <a href="http://opensource.org/licenses/MIT">MIT License</a>,
        articles licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
    </div><!-- #footer-left -->
    <div id="footer-right">
    </div><!-- #footer-right -->
</div><!-- #footer -->

</div><!-- #wrapper -->

<!-- print javascript -->
<script type="text/javascript" src="http://jeeker.net/assets/script/action.js?42566"></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='http://jeeker.net/assets/script/css3-mediaqueries.js?58572'></script>
<![endif]-->

<script type="text/javascript" src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=1635756822" charset="utf-8"></script>
<script type="text/javascript" src="/assets/additional.js"></script>

<!-- google analytics track code -->
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-31118267-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

</body>
</html>